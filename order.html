<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Your ZenDoodle Book | ZenDoodle Studios</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600&family=Quicksand:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    
    <style>
        /* --- SPECIFIC FORM STYLES --- */
        .form-wrapper {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            text-align: left;
            max-width: 800px;
            margin: 0 auto;
        }

        .step-container { display: none; animation: fadeIn 0.4s ease; }
        .step-container.active { display: block; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Progress Bar */
        .progress-wrapper {
            margin-bottom: 30px; background: #eee; height: 10px; border-radius: 5px; overflow: hidden;
        }
        .progress-bar {
            height: 100%; background: var(--zen-teal); width: 15%; transition: width 0.4s ease;
        }
        .step-indicator {
            text-align: right; font-size: 0.9rem; color: var(--zen-teal); font-weight: bold; margin-bottom: 5px;
        }

        /* Form Elements */
        label { font-weight: 600; margin-top: 20px; display: block; color: var(--zen-dark); }
        .sub-label { font-size: 0.85rem; color: #666; margin-top: -2px; margin-bottom: 5px; font-style: italic; }

        select, input[type="text"], input[type="email"], input[type="tel"], textarea {
            width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; 
            margin-top: 5px; font-family: 'Quicksand', sans-serif; font-size: 1rem;
            box-sizing: border-box;
        }
        input:focus, select:focus, textarea:focus { border-color: var(--zen-teal); outline: none; }

        /* File Upload */
        input[type="file"] { border: 1px dashed var(--zen-teal); padding: 10px; background: #f0fafa; width: 100%; box-sizing: border-box; }

        /* Radio Group (Page 1) */
        .radio-group label {
            display: flex; align-items: center; background: #f9fdfd; border: 1px solid #ddd; 
            padding: 15px; margin-bottom: 10px; border-radius: 10px; 
            cursor: pointer; transition: 0.2s; margin-top: 8px;
        }
        .radio-group label:hover { border-color: var(--zen-teal); background: white; }
        .radio-group input { margin-right: 15px; width: auto; transform: scale(1.2); }

        /* Conditional "Other" inputs */
        .conditional-input { display: none; margin-top: 10px; border-left: 3px solid var(--zen-teal); padding-left: 10px; }

        /* Flex row for Age/Gender */
        .flex-row { display: flex; gap: 15px; }
        .flex-col { flex: 1; }

        /* Price Box */
        .price-box {
            background: #eef9f8; border: 2px solid var(--zen-teal); color: var(--zen-dark);
            padding: 20px; border-radius: 10px; text-align: center; margin-top: 30px; margin-bottom: 20px;
        }
        .price-display { font-size: 2rem; color: var(--zen-teal); font-family: 'Fredoka', sans-serif; display: block; font-weight: bold; }

        /* Buttons */
        .btn-group { display: flex; justify-content: space-between; margin-top: 30px; gap: 10px; }
        .btn-back { background: #eee; color: #555; }
        .btn-back:hover { background: #ddd; color: #333; }
        
        .hidden { display: none !important; }
    </style>
</head>
<body>

    <div class="blob-container">
        <div class="blob b2"></div>
        <div class="floating-icon i2">üé®</div>
        <div class="floating-icon i4">‚ú®</div>
        <img src="assets/mascot.jpg" alt="" class="mascot-bg">
    </div>

    <nav>
        <a href="index.html"><img src="assets/logo.jpg" alt="ZenDoodle Logo" class="brand-logo"></a>
        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="about.html">About</a>
            <a href="products.html">Products</a>
            <a href="faq.html">FAQ</a>
            <a href="contact.html">Contact</a>
            <a href="order.html" class="nav-cta">Order Now</a>
        </div>
    </nav>

    <section class="section">
        <div style="text-align: center; max-width: 800px; margin: 0 auto 30px auto;">
            <h1>Create your ZenDoodle Book</h1>
            <p>Bring your imagination to life with a one-of-a-kind colouring book made just for you!</p>
            <p>Whether it‚Äôs for a birthday, school, event, or personal keepsake ‚Äî we‚Äôll turn your photos, art, or theme ideas into a beautiful custom book.</p>
            <p><strong>‚ú® Please fill out the form below to get started.</strong></p>
            
            <div style="background: rgba(255,255,255,0.9); padding: 15px; border-radius: 10px; border: 1px dashed var(--zen-teal); font-size: 0.9rem; display: inline-block; margin-top: 10px;">
                If you don't see an option that works for you, if you need customised packages, or for general assistance, contact us at <a href="https://wa.me/18768124295" target="_blank" style="color: var(--zen-teal); font-weight: bold;">(876) 812 - 4295</a>
            </div>
        </div>

        <form id="zendoodleForm" name="ZenDoodle_Official_Order" method="POST" action="thank-you.html" data-netlify="true" enctype="multipart/form-data" class="form-wrapper">
            
            <input type="hidden" name="form-name" value="ZenDoodle_Official_Order" />
            <input type="hidden" name="Estimated_Total_JMD" id="hidden_total_price" value="0">

            <div class="step-indicator" id="stepText">Step 1 of 6</div>
            <div class="progress-wrapper"><div class="progress-bar" id="progressBar"></div></div>

            <div class="step-container active" id="step-1">
                <div style="background: #fff3cd; color: #856404; padding: 10px; border-radius: 5px; font-size: 0.9rem; margin-bottom: 20px;">
                    <strong>Note:</strong> Custom books are 8.5" x 11". Mini books are 4.25" x 5.5".
                </div>

                <label>Full Name *</label>
                <input type="text" name="Full_Name" required placeholder="Jane Doe">

                <label>Email Address *</label>
                <input type="email" name="Email" required placeholder="name@example.com">

                <label>Phone Number *</label>
                <input type="tel" name="Phone" required placeholder="(876) 555-0123">

                <label>What type of book would you like to create? *</label>
                <div class="radio-group">
                    <label><input type="radio" name="Book_Type" value="Custom Colouring Book - Child" required> Custom Colouring Book - Child</label>
                    <label><input type="radio" name="Book_Type" value="Custom Colouring Book - Adult"> Custom Colouring Book - Adult</label>
                    <label><input type="radio" name="Book_Type" value="Custom Activity Book - Child"> Custom Activity Book - Child</label>
                    <label><input type="radio" name="Book_Type" value="Bulk Mini Colouring Book - Child"> Bulk Mini Colouring Book - Child</label>
                    <label><input type="radio" name="Book_Type" value="Bulk Mini Activity Book - Child"> Bulk Mini Activity Book - Child</label>
                    <label><input type="radio" name="Book_Type" value="Bulk Mini Colouring Book - Adult"> Bulk Mini Colouring Book - Adult</label>
                </div>
            </div>

            <div class="step-container" id="step-child-custom-col">
                <h3>Child Custom Colouring Book</h3>
                
                <label>Select Package *</label>
                <select name="Child_Col_Package" class="pricing-trigger">
                    <option value="">-- Select --</option>
                    <option value="10pg">Custom Book Only (10 pages) - $2500</option>
                    <option value="20pg">Custom Book Only (20 pages) - $3500</option>
                    <option value="gift">Gift Package (20pg + Pencils + Box) - $7500</option>
                </select>

                <label>Theme / Character</label>
                <select name="Child_Col_Theme" class="pricing-trigger" onchange="toggleOther(this, 'other_child_col_theme')">
                    <option value="Cars & Trucks">Cars & Trucks</option>
                    <option value="Dinosaurs">Dinosaurs</option>
                    <option value="Space">Space</option>
                    <option value="Pirates">Pirates</option>
                    <option value="Dragons">Dragons</option>
                    <option value="Airplanes & Trains">Airplanes & Trains</option>
                    <option value="Football">Football</option>
                    <option value="Basketball">Basketball</option>
                    <option value="Robots">Robots</option>
                    <option value="Unicorns">Unicorns</option>
                    <option value="Butterflies">Butterflies</option>
                    <option value="Flowers">Flowers</option>
                    <option value="Ballet/Dance">Ballet/Dance</option>
                    <option value="Fairies">Fairies</option>
                    <option value="Rainbow">Rainbow</option>
                    <option value="Mermaids">Mermaids</option>
                    <option value="Animals/Jungle">Animals/Jungle</option>
                    <option value="Frozen">Frozen</option>
                    <option value="Snow White">Snow White</option>
                    <option value="Cinderella">Cinderella</option>
                    <option value="Tiana">Tiana</option>
                    <option value="Ariel">Ariel</option>
                    <option value="Peppa Pig">Peppa Pig</option>
                    <option value="Barbie & Ken">Barbie & Ken (+$150)</option>
                    <option value="Moana">Moana (+$150)</option>
                    <option value="K-Pop Demon Hunters">K-Pop Demon Hunters (+$150)</option>
                    <option value="Cocomelon">Cocomelon</option>
                    <option value="LOL Surprise">LOL Surprise</option>
                    <option value="SpongeBob">SpongeBob</option>
                    <option value="Bluey">Bluey</option>
                    <option value="Paw Patrol">Paw Patrol</option>
                    <option value="Smurfs">Smurfs</option>
                    <option value="Mickey/Minnie Mouse">Mickey/Minnie Mouse</option>
                    <option value="Gumball">Gumball</option>
                    <option value="Spiderman">Spiderman (+$150)</option>
                    <option value="Marvel Super Heroes">Marvel Super Heroes (+$150)</option>
                    <option value="Sonic">Sonic</option>
                    <option value="Pokemon">Pokemon</option>
                    <option value="Minions">Minions</option>
                    <option value="Other">Other</option>
                </select>
                <input type="text" id="other_child_col_theme" name="Child_Col_Theme_Other" class="conditional-input" placeholder="Please describe theme...">

                <label>Recipient Name *</label>
                <input type="text" name="Child_Col_Recipient_Name" required>
                <div class="flex-row">
                    <div class="flex-col">
                        <label>Age *</label>
                        <input type="text" name="Child_Col_Recipient_Age" required>
                    </div>
                    <div class="flex-col">
                        <label>Gender *</label>
                        <input type="text" name="Child_Col_Recipient_Gender" required>
                    </div>
                </div>

                <label>Upload 2 Photos</label>
                <input type="file" name="Child_Col_Photos" multiple accept=".jpg, .png">

                <label>Occasion</label>
                <select name="Child_Col_Occasion" onchange="toggleOther(this, 'other_child_col_occ')">
                    <option value="Birthday">Birthday</option>
                    <option value="Graduation">Graduation</option>
                    <option value="Christmas">Christmas</option>
                    <option value="Easter">Easter</option>
                    <option value="Valentine‚Äôs Day">Valentine‚Äôs Day</option>
                    <option value="Back-to School">Back-to School</option>
                    <option value="Learning to Read">Learning to Read</option>
                    <option value="Christening/Baptism">Christening/Baptism</option>
                    <option value="First Day of School">First Day of School</option>
                    <option value="Just Because">Just Because</option>
                    <option value="Other">Other</option>
                </select>
                <input type="text" id="other_child_col_occ" name="Child_Col_Occasion_Other" class="conditional-input" placeholder="Describe occasion...">

                <label>Turnaround Time *</label>
                <select name="Child_Col_Turnaround" class="pricing-trigger" required>
                    <option value="regular">Regular Service - 7 days</option>
                    <option value="rush">Rush Order - 3 days (+$1500)</option>
                </select>
            </div>

            <div class="step-container" id="step-adult-custom-col">
                <h3>Adult Custom Colouring Book</h3>

                <label>Select Package *</label>
                <select name="Adult_Col_Package" class="pricing-trigger" onchange="toggleConditional(this, 'gift', 'adult_gift_theme_wrap')">
                    <option value="Motivational">Motivational - $3500</option>
                    <option value="Affirmation">Affirmation - $3500</option>
                    <option value="Christian">Christian - $3500</option>
                    <option value="gift">Gift Package (20pg + Box) - $8500</option>
                </select>

                <div id="adult_gift_theme_wrap" class="conditional-input">
                    <label>Select Theme for Gift Package</label>
                    <select name="Adult_Gift_Theme">
                        <option value="Motivational">Motivational</option>
                        <option value="Affirmation">Affirmation</option>
                        <option value="Christian">Christian</option>
                    </select>
                </div>

                <label>Upload 2 Photos</label>
                <input type="file" name="Adult_Col_Photos" multiple accept=".jpg, .png">

                <label>Recipient Name *</label>
                <input type="text" name="Adult_Col_Recipient_Name" required>
                <div class="flex-row">
                    <div class="flex-col">
                        <label>Age *</label>
                        <input type="text" name="Adult_Col_Recipient_Age" required>
                    </div>
                    <div class="flex-col">
                        <label>Gender *</label>
                        <input type="text" name="Adult_Col_Recipient_Gender" required>
                    </div>
                </div>

                <label>Design Style</label>
                <select name="Adult_Col_Style" class="pricing-trigger" onchange="toggleOther(this, 'other_adult_style')">
                    <option value="Floral">Floral</option>
                    <option value="Line Doodles">Line Doodles</option>
                    <option value="Abstract/Modern">Abstract/Modern</option>
                    <option value="Island Motif">Island Motif</option>
                    <option value="Nature/Landscapes">Nature/Landscapes</option>
                    <option value="Cartoon">Cartoon</option>
                    <option value="Geometric">Geometric</option>
                    <option value="Gym Fit">Gym Fit</option>
                    <option value="Modern Man/Woman">Modern Man/Woman</option>
                    <option value="Artsy">Artsy</option>
                    <option value="Cars">Cars</option>
                    <option value="Mandala">Mandala (+$150)</option>
                    <option value="Kawaii Cute">Kawaii Cute (+$150)</option>
                    <option value="Anime">Anime (+$150)</option>
                    <option value="Other">Other</option>
                </select>
                <input type="text" id="other_adult_style" name="Adult_Col_Style_Other" class="conditional-input" placeholder="Describe style...">

                <label>Occasion</label>
                <select name="Adult_Col_Occasion" onchange="toggleOther(this, 'other_adult_occ')">
                    <option value="Birthday">Birthday</option>
                    <option value="Graduation">Graduation</option>
                    <option value="Christmas">Christmas</option>
                    <option value="Anniversary">Anniversary</option>
                    <option value="Mothers‚Äô Day">Mothers‚Äô Day</option>
                    <option value="Fathers‚Äô Day">Fathers‚Äô Day</option>
                    <option value="Valentine‚Äôs Day">Valentine‚Äôs Day</option>
                    <option value="Retirement">Retirement</option>
                    <option value="New Job">New Job</option>
                    <option value="Christening/Baptism">Christening/Baptism</option>
                    <option value="Business Launch">Business Launch</option>
                    <option value="Promotion">Promotion</option>
                    <option value="Staff Retreat">Staff Retreat</option>
                    <option value="Wedding">Wedding</option>
                    <option value="New Home">New Home</option>
                    <option value="Employee Appreciation">Employee Appreciation</option>
                    <option value="Thank you">Thank you</option>
                    <option value="Just Because">Just Because</option>
                    <option value="Other">Other</option>
                </select>
                <input type="text" id="other_adult_occ" name="Adult_Col_Occasion_Other" class="conditional-input" placeholder="Describe occasion...">

                <label>Turnaround Time *</label>
                <select name="Adult_Col_Turnaround" class="pricing-trigger" required>
                    <option value="regular">Regular Service - 7 days</option>
                    <option value="rush">Rush Order - 3 days (+$1500)</option>
                </select>
            </div>

            <div class="step-container" id="step-child-custom-act">
                <h3>Child Custom Activity Book</h3>
                <p class="sub-label">20 personalised, age-appropriate activity pages.</p>

                <label>Recipient Name *</label>
                <input type="text" name="Child_Act_Recipient_Name" required>
                <div class="flex-row">
                    <div class="flex-col">
                        <label>Age *</label>
                        <input type="text" name="Child_Act_Recipient_Age" required>
                    </div>
                    <div class="flex-col">
                        <label>Gender *</label>
                        <input type="text" name="Child_Act_Recipient_Gender" required>
                    </div>
                </div>

                <label>Upload 2 Photos</label>
                <input type="file" name="Child_Act_Photos" multiple accept=".jpg, .png">

                <label>Theme / Character (Optional)</label>
                <select name="Child_Act_Theme" class="pricing-trigger" onchange="toggleOther(this, 'other_child_act_theme')">
                    <option value="None">None - Standard ($4500)</option>
                    <option value="Cars & Trucks">Cars & Trucks</option>
                    <option value="Dinosaurs">Dinosaurs</option>
                    <option value="Space">Space</option>
                    <option value="Pirates">Pirates</option>
                    <option value="Dragons">Dragons</option>
                    <option value="Airplanes & Trains">Airplanes & Trains</option>
                    <option value="Football">Football</option>
                    <option value="Basketball">Basketball</option>
                    <option value="Robots">Robots</option>
                    <option value="Unicorns">Unicorns</option>
                    <option value="Butterflies">Butterflies</option>
                    <option value="Flowers">Flowers</option>
                    <option value="Ballet/Dance">Ballet/Dance</option>
                    <option value="Fairies">Fairies</option>
                    <option value="Rainbow">Rainbow</option>
                    <option value="Mermaids">Mermaids</option>
                    <option value="Animals/Jungle">Animals/Jungle</option>
                    <option value="Frozen">Frozen</option>
                    <option value="Snow White">Snow White</option>
                    <option value="Cinderella">Cinderella</option>
                    <option value="Tiana">Tiana</option>
                    <option value="Ariel">Ariel</option>
                    <option value="Peppa Pig">Peppa Pig</option>
                    <option value="Barbie & Ken">Barbie & Ken (+$150)</option>
                    <option value="Moana">Moana (+$150)</option>
                    <option value="K-Pop Demon Hunters">K-Pop Demon Hunters (+$150)</option>
                    <option value="Cocomelon">Cocomelon</option>
                    <option value="LOL Surprise">LOL Surprise</option>
                    <option value="SpongeBob">SpongeBob</option>
                    <option value="Bluey">Bluey</option>
                    <option value="Paw Patrol">Paw Patrol</option>
                    <option value="Smurfs">Smurfs</option>
                    <option value="Mickey/Minnie Mouse">Mickey/Minnie Mouse</option>
                    <option value="Gumball">Gumball</option>
                    <option value="Spiderman">Spiderman (+$150)</option>
                    <option value="Marvel Super Heroes">Marvel Super Heroes (+$150)</option>
                    <option value="Sonic">Sonic</option>
                    <option value="Pokemon">Pokemon</option>
                    <option value="Minions">Minions</option>
                    <option value="Other">Other Character (Base $6000)</option>
                </select>
                <input type="text" id="other_child_act_theme" name="Child_Act_Theme_Other" class="conditional-input" placeholder="Describe theme...">

                <label>Add Gift Packaging? (+$1500)</label>
                <select name="Child_Act_Add_Gift" class="pricing-trigger">
                    <option value="no">No</option>
                    <option value="yes">Yes</option>
                </select>

                <label>Turnaround Time *</label>
                <select name="Child_Act_Turnaround" class="pricing-trigger" required>
                    <option value="regular">Regular Service - 7 days</option>
                    <option value="rush">Rush Order - 3 days (+$1500)</option>
                </select>
            </div>

            <div class="step-container" id="step-bulk-child">
                <h3>Bulk Mini Books (Child)</h3>
                <p class="sub-label">Min order 8. Individually packaged. 12 pages each.</p>

                <label>Select Package *</label>
                <select name="Bulk_Child_Package" class="pricing-trigger" id="bulk_child_pkg_select" onchange="toggleConditionalGroup(this, ['Customised Colouring Book', 'Customised Activity Book'], 'bulk_child_custom_fields')">
                    <option value="Generic Colouring Book">Generic Colouring Book</option>
                    <option value="Generic Activity Book">Generic Activity Book</option>
                    <option value="Customised Colouring Book">Customised Colouring Book</option>
                    <option value="Customised Activity Book">Customised Activity Book</option>
                </select>

                <label>Quantity *</label>
                <select name="Bulk_Child_Qty" class="pricing-trigger" required>
                    <option value="8">8</option>
                    <option value="12">12</option>
                    <option value="24">24</option>
                    <option value="48">48</option>
                </select>

                <div id="bulk_child_custom_fields" class="conditional-input">
                    <label>Recipient Name</label>
                    <input type="text" name="Bulk_Child_Recipient_Name">
                    <div class="flex-row">
                        <div class="flex-col">
                            <label>Age</label>
                            <input type="text" name="Bulk_Child_Recipient_Age">
                        </div>
                        <div class="flex-col">
                            <label>Gender</label>
                            <input type="text" name="Bulk_Child_Recipient_Gender">
                        </div>
                    </div>

                    <label>Upload 2 Photos</label>
                    <input type="file" name="Bulk_Child_Photos" multiple>
                </div>

                <label>Size</label>
                <select name="Bulk_Child_Size" class="pricing-trigger">
                    <option value="Standard">Standard - 4.25‚Äù x 5.5‚Äù</option>
                    <option value="Large">Large - 5.5‚Äù x 8.5‚Äù (Extra cost)</option>
                </select>

                <label>Add Crayons/Pencils?</label>
                <select name="Bulk_Child_Add_Crayons" class="pricing-trigger">
                    <option value="No">No</option>
                    <option value="Yes">Yes (Extra cost)</option>
                </select>

                <label>Theme / Character</label>
                <select name="Bulk_Child_Theme" class="pricing-trigger" onchange="toggleOther(this, 'other_bulk_child_theme')">
                    <option value="None">None</option>
                    <option value="Cars & Trucks">Cars & Trucks</option>
                    <option value="Dinosaurs">Dinosaurs</option>
                    <option value="Space">Space</option>
                    <option value="Pirates">Pirates</option>
                    <option value="Dragons">Dragons</option>
                    <option value="Airplanes & Trains">Airplanes & Trains</option>
                    <option value="Football">Football</option>
                    <option value="Basketball">Basketball</option>
                    <option value="Robots">Robots</option>
                    <option value="Unicorns">Unicorns</option>
                    <option value="Butterflies">Butterflies</option>
                    <option value="Flowers">Flowers</option>
                    <option value="Ballet/Dance">Ballet/Dance</option>
                    <option value="Fairies">Fairies</option>
                    <option value="Rainbow">Rainbow</option>
                    <option value="Mermaids">Mermaids</option>
                    <option value="Animals/Jungle">Animals/Jungle</option>
                    <option value="Frozen">Frozen</option>
                    <option value="Snow White">Snow White</option>
                    <option value="Cinderella">Cinderella</option>
                    <option value="Tiana">Tiana</option>
                    <option value="Ariel">Ariel</option>
                    <option value="Peppa Pig">Peppa Pig</option>
                    <option value="Barbie & Ken">Barbie & Ken (+$150)</option>
                    <option value="Moana">Moana (+$150)</option>
                    <option value="K-Pop Demon Hunters">K-Pop Demon Hunters (+$150)</option>
                    <option value="Cocomelon">Cocomelon</option>
                    <option value="LOL Surprise">LOL Surprise</option>
                    <option value="SpongeBob">SpongeBob</option>
                    <option value="Bluey">Bluey</option>
                    <option value="Paw Patrol">Paw Patrol</option>
                    <option value="Smurfs">Smurfs</option>
                    <option value="Mickey/Minnie Mouse">Mickey/Minnie Mouse</option>
                    <option value="Gumball">Gumball</option>
                    <option value="Spiderman">Spiderman (+$150)</option>
                    <option value="Marvel Super Heroes">Marvel Super Heroes (+$150)</option>
                    <option value="Sonic">Sonic</option>
                    <option value="Pokemon">Pokemon</option>
                    <option value="Minions">Minions</option>
                    <option value="Other">Other</option>
                </select>
                <input type="text" id="other_bulk_child_theme" name="Bulk_Child_Theme_Other" class="conditional-input" placeholder="Describe theme...">

                <label>Occasion</label>
                <select name="Bulk_Child_Occasion" onchange="toggleOther(this, 'other_bulk_child_occ')">
                    <option value="Birthday Party">Birthday Party</option>
                    <option value="Graduation Party">Graduation Party</option>
                    <option value="Class Party">Class Party</option>
                    <option value="Easter Egg Hunt">Easter Egg Hunt</option>
                    <option value="Valentine‚Äôs Day">Valentine‚Äôs Day</option>
                    <option value="Sunday School Activity">Sunday School Activity</option>
                    <option value="Christening/Baptism">Christening/Baptism</option>
                    <option value="Sleepover Party">Sleepover Party</option>
                    <option value="Other">Other</option>
                </select>
                <input type="text" id="other_bulk_child_occ" name="Bulk_Child_Occasion_Other" class="conditional-input" placeholder="Describe occasion...">


                <label>Turnaround Time *</label>
                <select name="Bulk_Child_Turnaround" class="pricing-trigger" required>
                    <option value="regular">Regular Service - 7 days</option>
                    <option value="rush">Rush Order - 3 days (+$1500)</option>
                </select>
            </div>

            <div class="step-container" id="step-bulk-adult">
                <h3>Bulk Mini Books (Adult)</h3>
                
                <label>Select Package *</label>
                <select name="Bulk_Adult_Package" class="pricing-trigger">
                    <option value="Stress Relief">Stress Relief</option>
                    <option value="Mandala">Mandala</option>
                    <option value="Inspirational Messages">Inspirational Messages</option>
                    <option value="Spiritual">Spiritual</option>
                </select>

                <label>Quantity *</label>
                <select name="Bulk_Adult_Qty" class="pricing-trigger" required>
                    <option value="8">8</option>
                    <option value="12">12</option>
                    <option value="24">24</option>
                    <option value="48">48</option>
                </select>

                <label>Size</label>
                <select name="Bulk_Adult_Size" class="pricing-trigger">
                    <option value="Standard">Standard - 4.25‚Äù x 5.5‚Äù</option>
                    <option value="Large">Large - 5.5‚Äù x 8.5‚Äù (Extra cost)</option>
                </select>

                <label>Add Crayons/Pencils?</label>
                <select name="Bulk_Adult_Add_Crayons" class="pricing-trigger">
                    <option value="No">No</option>
                    <option value="Yes">Yes (Extra cost)</option>
                </select>

                <label>Occasion</label>
                <select name="Bulk_Adult_Occasion" onchange="toggleOther(this, 'other_bulk_adult_occ')">
                    <option value="Office Gifts">Office Gifts</option>
                    <option value="Team Building Exercise">Team Building Exercise</option>
                    <option value="Staff/Church Retreat">Staff/Church Retreat</option>
                    <option value="Health or Wellness">Health or Wellness</option>
                    <option value="Other">Other</option>
                </select>
                <input type="text" id="other_bulk_adult_occ" name="Bulk_Adult_Occasion_Other" class="conditional-input" placeholder="Describe occasion...">


                <label>Turnaround Time *</label>
                <select name="Bulk_Adult_Turnaround" class="pricing-trigger" required>
                    <option value="regular">Regular Service - 7 days</option>
                    <option value="rush">Rush Order - 3 days (+$1500)</option>
                </select>
            </div>

            <div class="price-box">
                Estimated Total
                <span class="price-display" id="display-price">JMD $0</span>
            </div>

            <div class="btn-group">
                <button type="button" class="btn btn-back hidden" id="prevBtn" onclick="nextPrev(-1)">Back</button>
                <button type="button" class="btn btn-primary" id="nextBtn" onclick="nextPrev(1)">Next Step</button>
                <button type="submit" class="btn btn-primary hidden" id="submitBtn" onclick="prepareSubmission()">Submit Order</button>
            </div>

        </form>
    </section>

    <footer>
        <div class="footer-icons">
            <a href="https://wa.me/18768124295" target="_blank" class="footer-icon-link"><span>üí¨</span> WhatsApp</a>
            <a href="https://instagram.com/zendoodlestudios" target="_blank" class="footer-icon-link"><span>üì∏</span> Instagram</a>
            <a href="mailto:zendoodlestudios@outlook.com" class="footer-icon-link"><span>‚úâÔ∏è</span> Email</a>
        </div>
        <span class="footer-phone">üìû 1 (876) 812 - 4295</span>
        <p style="font-size: 0.9rem; opacity: 0.8; margin-top: 20px;">&copy; 2026 ZenDoodle Studios. Kingston, Jamaica.</p>
    </footer>

    <script>
        let currentTab = 0; 
        const steps = document.getElementsByClassName("step-container");
        let activeFlowIndex = 0; // 0=None, 1=ChildCol, 2=AdultCol, 3=ChildAct, 4=BulkChild, 5=BulkAdult

        showTab(currentTab);

        function showTab(n) {
            // Hide all
            for(let s of steps) s.classList.remove("active");
            // Show current
            steps[n].classList.add("active");
            
            // Buttons
            const prevBtn = document.getElementById("prevBtn");
            const nextBtn = document.getElementById("nextBtn");
            const submitBtn = document.getElementById("submitBtn");

            if (n == 0) {
                prevBtn.classList.add("hidden");
                nextBtn.classList.remove("hidden");
                submitBtn.classList.add("hidden");
            } else {
                prevBtn.classList.remove("hidden");
                nextBtn.classList.add("hidden");   // On sub-pages, we are done
                submitBtn.classList.remove("hidden");
            }

            // Update Progress
            let percent = (n == 0) ? 15 : 90;
            document.getElementById("progressBar").style.width = percent + "%";
            document.getElementById("stepText").innerText = `Step ${n + 1} of 2`;
        }

        function nextPrev(n) {
            if (n == 1 && !validateForm()) return false;

            // --- ROUTING LOGIC (FROM PAGE 1) ---
            if (currentTab === 0 && n === 1) {
                const bookType = document.querySelector('input[name="Book_Type"]:checked').value;
                
                // Determine destination
                if(bookType === 'Custom Colouring Book - Child') { activeFlowIndex = 1; currentTab = 1; }
                else if(bookType === 'Custom Colouring Book - Adult') { activeFlowIndex = 2; currentTab = 2; }
                else if(bookType === 'Custom Activity Book - Child') { activeFlowIndex = 3; currentTab = 3; }
                else if(bookType.includes('Bulk Mini') && bookType.includes('Child')) { activeFlowIndex = 4; currentTab = 4; }
                else if(bookType.includes('Bulk Mini') && bookType.includes('Adult')) { activeFlowIndex = 5; currentTab = 5; }
                
                showTab(currentTab);
                calculatePrice();
                return;
            }

            // --- GO BACK ---
            if (n === -1) {
                currentTab = 0; 
                activeFlowIndex = 0;
                showTab(currentTab);
                // Reset Price
                document.getElementById('display-price').innerText = "JMD $0";
                return;
            }
        }

        function validateForm() {
            let valid = true;
            const currentDiv = steps[currentTab];
            const inputs = currentDiv.querySelectorAll("input[required], select[required]");
            
            inputs.forEach(input => {
                if (input.value === "" && input.offsetParent !== null) { // Check visibility
                    input.style.border = "1px solid red";
                    valid = false;
                } else {
                    input.style.border = "1px solid #ddd";
                }
            });
            return valid;
        }

        // --- TOGGLE HELPERS ---
        function toggleOther(selectElem, otherId) {
            const otherInput = document.getElementById(otherId);
            if(selectElem.value === 'Other') {
                otherInput.style.display = 'block';
                otherInput.setAttribute('required', 'true');
            } else {
                otherInput.style.display = 'none';
                otherInput.value = '';
                otherInput.removeAttribute('required');
            }
            calculatePrice();
        }

        function toggleConditional(selectElem, triggerVal, targetId) {
            const target = document.getElementById(targetId);
            if(selectElem.value === triggerVal) target.style.display = 'block';
            else target.style.display = 'none';
            calculatePrice();
        }

        function toggleConditionalGroup(selectElem, triggerList, targetId) {
            const target = document.getElementById(targetId);
            if(triggerList.includes(selectElem.value)) target.style.display = 'block';
            else target.style.display = 'none';
            calculatePrice();
        }

        // --- PRICING LOGIC ---
        document.querySelectorAll('.pricing-trigger').forEach(item => {
            item.addEventListener('change', calculatePrice);
        });

        function calculatePrice() {
            let price = 0;
            
            if (activeFlowIndex === 1) { // Child Col
                const pkg = document.querySelector('select[name="Child_Col_Package"]').value;
                if (pkg === '10pg') price = 2500;
                if (pkg === '20pg') price = 3500;
                if (pkg === 'gift') price = 7500;

                const theme = document.querySelector('select[name="Child_Col_Theme"]').value;
                const premium = ["Barbie & Ken", "Moana", "Spiderman", "Marvel Super Heroes", "K-Pop Demon Hunters"];
                if (premium.includes(theme)) price += 150;

                if (document.querySelector('select[name="Child_Col_Turnaround"]').value === 'rush') price += 1500;
            } 
            else if (activeFlowIndex === 2) { // Adult Col
                const pkg = document.querySelector('select[name="Adult_Col_Package"]').value;
                if (['Motivational','Affirmation','Christian'].includes(pkg)) price = 3500;
                if (pkg === 'gift') price = 8500;

                const style = document.querySelector('select[name="Adult_Col_Style"]').value;
                if (['Mandala', 'Kawaii Cute', 'Anime'].includes(style)) price += 150;

                if (document.querySelector('select[name="Adult_Col_Turnaround"]').value === 'rush') price += 1500;
            }
            else if (activeFlowIndex === 3) { // Child Act
                const theme = document.querySelector('select[name="Child_Act_Theme"]').value;
                if (theme === 'None') price = 4500;
                else price = 6000;

                if (["Spiderman", "Moana", "Barbie & Ken", "K-Pop Demon Hunters", "Marvel Super Heroes"].includes(theme)) price += 150;
                if (document.querySelector('select[name="Child_Act_Add_Gift"]').value === 'yes') price += 1500;
                if (document.querySelector('select[name="Child_Act_Turnaround"]').value === 'rush') price += 1500;
            }
            else if (activeFlowIndex === 4) { // Bulk Child
                const pkg = document.querySelector('select[name="Bulk_Child_Package"]').value;
                const qty = parseInt(document.querySelector('select[name="Bulk_Child_Qty"]').value || 0);
                const isCustom = pkg.includes('Customised');
                
                let base = 0;
                if(!isCustom) {
                    if(qty==8) base=2500; else if(qty==12) base=3000; else if(qty==24) base=4000; else if(qty==48) base=5000;
                } else {
                    if(qty==8) base=4500; else if(qty==12) base=6000; else if(qty==24) base=7000; else if(qty==48) base=8000;
                }
                price += base;

                if(document.querySelector('select[name="Bulk_Child_Size"]').value === 'Large') {
                    if(qty <= 12) price += 1000; else if(qty == 24) price += 1500; else if(qty == 48) price += 2000;
                }
                if(document.querySelector('select[name="Bulk_Child_Add_Crayons"]').value === 'Yes') {
                    if(qty <= 12) price += 500; else if(qty == 24) price += 1000; else if(qty == 48) price += 1500;
                }
                if (document.querySelector('select[name="Bulk_Child_Turnaround"]').value === 'rush') price += 1500;
                
                const theme = document.querySelector('select[name="Bulk_Child_Theme"]').value;
                const premium = ["Barbie & Ken", "Moana", "Spiderman", "Marvel Super Heroes", "K-Pop Demon Hunters"];
                if (premium.includes(theme)) price += 150;
            }
            else if (activeFlowIndex === 5) { // Bulk Adult
                const pkg = document.querySelector('select[name="Bulk_Adult_Package"]').value;
                const qty = parseInt(document.querySelector('select[name="Bulk_Adult_Qty"]').value || 0);
                const isGeneric = ['Stress Relief', 'Mandala'].includes(pkg);

                let base = 0;
                if(isGeneric) {
                    if(qty==8) base=4500; else if(qty==12) base=5500; else if(qty==24) base=6500; else if(qty==48) base=7500;
                } else {
                    if(qty==8) base=5500; else if(qty==12) base=6500; else if(qty==24) base=7500; else if(qty==48) base=8500;
                }
                price += base;

                if(document.querySelector('select[name="Bulk_Adult_Size"]').value === 'Large') {
                    if(qty <= 12) price += 1000; else if(qty == 24) price += 1500; else if(qty == 48) price += 2000;
                }
                if(document.querySelector('select[name="Bulk_Adult_Add_Crayons"]').value === 'Yes') {
                    if(qty <= 12) price += 500; else if(qty == 24) price += 1000; else if(qty == 48) price += 1500;
                }
                if (document.querySelector('select[name="Bulk_Adult_Turnaround"]').value === 'rush') price += 1500;
            }

            document.getElementById('display-price').innerText = "JMD $" + price.toLocaleString();
            document.getElementById('hidden_total_price').value = price;
        }

        // --- SUBMISSION PREP ---
        function prepareSubmission() {
            // Disable inputs in hidden tabs so Netlify ignores them
            // step-1 is index 0. Subpages are indices 1 to 5.
            for(let i = 1; i <= 5; i++) {
                if (i !== activeFlowIndex) {
                    // This is an unused section
                    const unusedInputs = steps[i].querySelectorAll('input, select, textarea');
                    unusedInputs.forEach(el => el.disabled = true);
                } else {
                    // This IS the active section. 
                    // However, we must ensure nested conditional fields (like "Other") are handled.
                    const container = steps[i];
                    const hiddenNested = container.querySelectorAll('.conditional-input');
                    hiddenNested.forEach(div => {
                        if(getComputedStyle(div).display === 'none') {
                            div.querySelectorAll('input, select, textarea').forEach(inp => inp.disabled = true);
                        }
                    });
                }
            }
            // Form continues to submit normally...
        }
    </script>
</body>
</html>